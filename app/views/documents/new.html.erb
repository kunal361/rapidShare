<%if @document.errors%>
  <div id = "errors">
    <%@document.errors.full_messages.each do |error|%>
      <p>
        <%=error%>
      </p>
    <%end%>
  </div>
<%end%>
<script type="text/javascript">
  validateform = function(){
    var description = document.forms["myform"]["description"].value;
    var doc = document.forms["myform"]["doc"].value;
    if(description=="" || description == null){
      alert("description missing");
      return false;
    }
    if(doc=="" || doc == null){
      alert("document missing");
      return false;
    }
    return true;
  }
</script>
<%= form_for @document, :multipart => true, :id => "myform" do |f|%>
  <p>
    <div>
      <%= f.label "document" %>
    </div>
    <div>
      <%= f.file_field :doc %><br/>
    </div><br/>
    <div>
      <%= f.label "description" %>
    </div>
    <div>
      <%= f.text_field :description %>
    </div>
  </p>
  <p>
    <%= f.submit "Upload", :onclick => "return validateform();" %>
  </p>
<% end %>